<!DOCTYPE html>
<html>
    <head>
        <title>Cloud Maze Solver</title>
        <script src="js/scripts.js"></script>
        <link rel="stylesheet" href="css/styles.css">
        <link rel="icon" type="image/x-icon" href="img/favicon.ico">
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.1/jquery.min.js"></script>
        <script src="lib/jquery-3.6.1.min.js"></script>
    </head>
    <body>
        <div id="main">
            <canvas id="canvas" width="644" height="644"></canvas>
            <script>
                var key = {
	UP: 38,
	DOWN: 40,
	LEFT: 37,
	RIGHT: 39,
  C: 67
};

console.log(key);

document.addEventListener("keydown", drawAction);
document.addEventListener("keydown", clearCanvas);

var square = document.getElementById("canvas");
var paper = square.getContext("2d");
var x = 314;
var y =3;

drawing_line("#FF0000", x-1, y, x, y, paper);

function drawing_line(color, x_start, y_start, x_end, y_end, board){
	board.beginPath();
	board.strokeStyle = color;
	board.lineWidth = 4;
	board.moveTo(x_start,y_start);
	board.lineTo(x_end,y_end);
	board.stroke(); 
	board.closePath();
}

function drawAction(whenPressKey){
	
	var colorLine ="#ff0000";
	var dotMove = 6;

	switch(whenPressKey.keyCode){

		case key.UP:
			drawing_line(colorLine, x, y, x, y - dotMove, paper);
			y = y - dotMove;
		break;

		case key.DOWN:
			drawing_line(colorLine, x, y, x, y + dotMove, paper);
			y = y + dotMove;
		break;

		case key.LEFT:
			drawing_line(colorLine, x, y, x - dotMove, y, paper);
			x = x - dotMove;
		break;

		case key.RIGHT:
			drawing_line(colorLine, x, y, x + dotMove, y, paper);
			x = x + dotMove;
		break;

		default:
		console.log("Another key");
	}
}

function clearCanvas(whenPressKey) {
	if (whenPressKey.keyCode == key.C) {
		paper.clearRect(0, 0, square.width, square.height);
        var background = new Image();
                background.src = "img/maze/Maze_00.svg";
        background.onload = function(){
                ctx.drawImage(background,0,0);
        }
	}
}
            
                var canvas = document.getElementById("canvas"),
                ctx = canvas.getContext("2d");

                var background = new Image();
                background.src = "img/maze/Maze_00.svg";
                
                
                // Make sure the image is loaded first otherwise nothing will draw.
                background.onload = function(){
                ctx.drawImage(background,0,0);
                   
}


// Draw whatever else over top of it on the canvas.
            </script>
        </div>
    </body>
</html>